(this["webpackJsonpmy-ecommerce-prueba"]=this["webpackJsonpmy-ecommerce-prueba"]||[]).push([[0],{36:function(e,t,c){},37:function(e,t,c){},44:function(e,t,c){},45:function(e,t,c){},46:function(e,t,c){},47:function(e,t,c){},48:function(e,t,c){},49:function(e,t,c){},50:function(e,t,c){},51:function(e,t,c){},52:function(e,t,c){},53:function(e,t,c){"use strict";c.r(t);var a=c(2),n=c.n(a),s=c(28),r=c.n(s),i=(c(36),c(14)),l=c(9),o=c(4),d=(c(37),c(1)),j=function(e){var t=e.data,c=t.id,a=t.thumbnailUrl,n=t.title,s=t.description,r=t.price,i=t.category;return Object(d.jsx)(o.b,{to:"/".concat(i,"/").concat(c),className:"link",children:Object(d.jsxs)("div",{className:"card mx-2 my-2 d-flex justify-content-center ",children:[Object(d.jsx)("img",{id:c,src:a,className:"img-fluid align-self-center",alt:n}),Object(d.jsxs)("div",{className:"d-flex",children:[Object(d.jsx)("div",{className:"bar"}),Object(d.jsxs)("div",{className:"card-body text-left ml-1",children:[Object(d.jsx)("h5",{className:"card-title",children:n}),Object(d.jsx)("p",{className:"desc",children:s}),Object(d.jsx)("p",{className:"card-text",children:r}),Object(d.jsx)("div",{className:"buy d-flex align-items-center",onClick:function(e){return e.preventDefault()},children:Object(d.jsx)(o.b,{to:"/".concat(i,"/").concat(c),children:Object(d.jsx)("button",{className:"btn buyBtn",children:"comprar"})},c)})]})]})]})},c)},b=c(5),u=function(e){var t=e.allProducts,c=Object(b.g)().category;return c?t.filter((function(e){return e.category===c})).map((function(e){return Object(d.jsx)(j,{data:e},e.id)})):t.map((function(e){return Object(d.jsx)(j,{data:e},e.id)}))},m=c(31),x=Object(a.createContext)({}),O=function(e){var t=e.children,c=Object(a.useState)([]),n=Object(l.a)(c,2),s=n[0],r=n[1],o=Object(a.useState)(""),j=Object(l.a)(o,2),b=j[0],u=j[1],O=Object(a.useState)(""),h=Object(l.a)(O,2),p=h[0],f=h[1];Object(a.useEffect)((function(){localStorage.getItem("userCart")?r(JSON.parse(localStorage.getItem("userCart"))):localStorage.setItem("userCart",JSON.stringify([]))}),[]),Object(a.useEffect)((function(){localStorage.setItem("userCart",JSON.stringify(s));var e=JSON.parse(localStorage.getItem("userCart")).reduce((function(e,t){return e+t.amount}),0);u(JSON.stringify(e))}),[s]),Object(a.useEffect)((function(){var e=JSON.parse(localStorage.getItem("userCart")).reduce((function(e,t){return e+t.amount*t.price}),0);f(JSON.stringify(e))}),[s]);return Object(d.jsx)(x.Provider,{value:{cart:s,cartAmount:b,setCart:r,clearCart:function(){r([])},addToCart:function(e,t){if(a=e.id,s.some((function(e){return e.id===a}))){var c=s.map((function(c){return c.id===e.id?Object(i.a)(Object(i.a)({},c),{},{amount:c.amount+t}):c}));r(c)}else r((function(c){return[].concat(Object(m.a)(c),[Object(i.a)(Object(i.a)({},e),{},{amount:t})])}));var a},remProduct:function(e){var t=s.filter((function(t){return t.id!==e.target.value}));r(t)},cartTotal:p},children:t})},h=c(30),p=(c(54),h.a.initializeApp({apiKey:"AIzaSyC-fgKG5DVlM1bcdnCSFGooZRcnnaDoXx0",authDomain:"buncits-41df0.firebaseapp.com",projectId:"buncits-41df0",storageBucket:"buncits-41df0.appspot.com",messagingSenderId:"1000442280075",appId:"1:1000442280075:web:2386ed9af7d05059287c8e"}).firestore()),f=(c(44),function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),c=t[0],n=t[1];Object(a.useEffect)((function(){!function(){var e=[];p.collection("buncitsProducts").onSnapshot((function(t){t.forEach((function(t){e.push(Object(i.a)(Object(i.a)({},t.data()),{},{id:t.id}))})),n(e)}))}()}),[]);var s=Object(a.useContext)(x).cart;return console.log(s),Object(d.jsx)("div",{className:"item-list-container row px-0 mx-0 my-5",children:0===c.length?Object(d.jsx)("div",{className:"loadingMsg",children:Object(d.jsxs)("p",{children:["cargando productos...",Object(d.jsx)("br",{})," ",Object(d.jsx)("span",{className:"loadingMsg_Logo",children:"buncits."})]})}):Object(d.jsx)(u,{allProducts:c})})}),v=function(){return Object(d.jsx)("div",{children:Object(d.jsx)(f,{})})},N=(c(45),function(){return Object(d.jsx)("div",{children:Object(d.jsx)("div",{className:"nosotros_container d-flex justify-content-center align-items-center",children:"Nosotros"})})}),g=(c(46),function(){return Object(d.jsx)("div",{children:Object(d.jsx)("div",{className:"contacto_container d-flex justify-content-center align-items-center",children:"Contacto"})})}),y=(c(47),function(e){var t=e.product,c=e.stock,n=e.updateAmount,s=Object(a.useState)(c),r=Object(l.a)(s,2),i=r[0],o=r[1],j=Object(a.useState)(0),b=Object(l.a)(j,2),u=b[0],m=b[1],O=Object(a.useContext)(x).addToCart;return Object(d.jsxs)("div",{className:"d-flex",children:[Object(d.jsxs)("div",{className:"btn_amount d-flex",children:[Object(d.jsx)("button",{className:"btn_rem",onClick:function(){u>0&&(m(u-1),o(i+1))},children:"-"}),Object(d.jsx)("div",{className:"amount",children:u}),Object(d.jsx)("button",{className:"btn_add",onClick:function(){i>=1&&(m(u+1),o(i-1))},children:"+"})]}),Object(d.jsx)("div",{children:Object(d.jsx)("button",{className:"btn_addToCart",onClick:function(){u>=1?(O(t,u),n(u),m(0),alert("Se a\xf1adieron ".concat(u," productos al carrito."))):alert("Se tiene que agregar al menos un producto.")},children:"a\xf1adir"})})]})}),C=(c(48),function(e){var t=e.data,c=t.id,n=t.thumbnailUrl,s=t.thumbnailUrl2,r=t.thumbnailUrl3,i=t.title,j=t.description,b=t.price,u=t.stock,m=Object(a.useState)(0),x=Object(l.a)(m,2),O=x[0],h=x[1];return Object(d.jsxs)("div",{className:"row d-flex justify-content-center detail_container py-2",children:[Object(d.jsx)("div",{className:"col-12 col-md-6 d-flex align-items-center justify-content-center",children:Object(d.jsxs)("div",{id:"carouselExampleControls",className:"carousel","data-ride":"carousel",children:[Object(d.jsxs)("div",{className:"carousel-inner",children:[Object(d.jsx)("div",{className:"carousel-item active",children:Object(d.jsx)("img",{src:n,className:"img-fluid ml-4 mb-3",alt:i})}),Object(d.jsx)("div",{className:"carousel-item",children:Object(d.jsx)("img",{src:s,className:"img-fluid ml-4 mb-3",alt:i})}),Object(d.jsx)("div",{className:"carousel-item",children:Object(d.jsx)("img",{src:r,className:"img-fluid ml-4 mb-3",alt:i})})]}),Object(d.jsx)("a",{className:"carousel-control-prev",href:"#carouselExampleControls",role:"button","data-slide":"prev",children:Object(d.jsx)("span",{className:"carousel-control-prev-icon","aria-hidden":"true"})}),Object(d.jsx)("a",{className:"carousel-control-next",href:"#carouselExampleControls",role:"button","data-slide":"next",children:Object(d.jsx)("span",{className:"carousel-control-next-icon","aria-hidden":"true"})})]})}),Object(d.jsx)("div",{className:"col-12 col-md-6 d-flex justify-content-center align-items-center",children:Object(d.jsxs)("div",{className:"d-flex text_container",children:[Object(d.jsx)("div",{className:"bar"}),Object(d.jsxs)("div",{className:" text-left",children:[Object(d.jsx)("h5",{className:"product_title",children:i}),Object(d.jsx)("p",{className:"product_desc",children:j}),Object(d.jsx)("p",{className:"card-text",children:b}),Object(d.jsx)("div",{className:"buy d-flex align-items-center",children:O>0?Object(d.jsx)(o.b,{to:"/cart",children:Object(d.jsx)("button",{className:"finishBtn",children:"terminar compra"})}):Object(d.jsx)(y,{product:t,stock:u,updateAmount:function(e){h(O+e)}})}),Object(d.jsx)("div",{className:"d-flex justify-content-end",children:Object(d.jsx)(o.b,{to:"/",className:"return_btn",children:"\u2190 volver."})})]})]})})]},c)}),S=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),c=t[0],n=t[1],s=Object(b.g)(),r=s.id,o=s.category;return Object(a.useEffect)((function(){var e=[];p.collection("buncitsProducts").onSnapshot((function(t){t.forEach((function(t){e.push(Object(i.a)(Object(i.a)({},t.data()),{},{id:t.id}));var c=e.find((function(e){return e.id===r&&e.category===o}));n(c)}))}))}),[o,r]),Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{className:"item-list-container row px-0 mx-0 my-5",children:c?0===c.length?Object(d.jsx)("div",{className:"loadingMsg",children:Object(d.jsxs)("p",{children:["cargando vista de detalle",Object(d.jsx)("br",{})," ",Object(d.jsx)("span",{className:"loadingMsg_Logo",children:"buncits."})]})}):Object(d.jsx)(C,{data:c}):Object(d.jsx)("div",{className:"loadingMsg",children:Object(d.jsxs)("p",{children:["producto inexistente",Object(d.jsx)("br",{})," ",Object(d.jsx)("span",{className:"loadingMsg_Logo",children:"buncits."})]})})})})},w=function(){return Object(d.jsx)("div",{children:Object(d.jsx)(S,{})})},k=function(){return Object(d.jsx)("div",{children:Object(d.jsx)(f,{})})},_=function(){var e=Object(a.useContext)(x).cartAmount;return console.log(e),"0"===e?"":Object(d.jsx)("div",{className:"cart-icon",children:Object(d.jsx)(o.b,{to:"/cart",children:Object(d.jsx)("i",{className:"fas fa-shopping-cart",children:Object(d.jsx)("span",{children:e})})})})};c(49);var I=function(){return Object(d.jsxs)("nav",{className:"navbar navbar-expand-lg",children:[Object(d.jsx)(o.b,{to:"/",className:"navbar-brand",children:"buncits."}),Object(d.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNavDropdown","aria-controls":"navbarNavDropdown","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(d.jsx)("i",{className:"fas fa-bars"})}),Object(d.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarNavDropdown",children:[Object(d.jsxs)("ul",{className:"navbar-nav",children:[Object(d.jsx)(o.b,{to:"/",className:"nav-item nav-link",children:"home"}),Object(d.jsx)(o.b,{to:"/nosotros",className:"nav-item nav-link",children:"nosotros"}),Object(d.jsx)(o.b,{to:"/contacto",className:"nav-item nav-link",children:"contacto"}),Object(d.jsxs)("li",{className:"nav-item dropdown",children:[Object(d.jsxs)(o.b,{to:"/",className:"nav-link dropdown-toggle",id:"navbarDropdownMenuLink",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:[Object(d.jsx)("span",{children:"|"})," productos"]}),Object(d.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdownMenuLink",children:[Object(d.jsx)(o.b,{to:"/sofas",className:"dropdown-item",children:"sofas"}),Object(d.jsx)(o.b,{to:"/sillas",className:"dropdown-item",children:"sillas / sillones"}),Object(d.jsx)(o.b,{to:"/estanterias",className:"dropdown-item",children:"estanter\xedas"}),Object(d.jsx)(o.b,{to:"/gabinetes",className:"dropdown-item",children:"gabinetes"}),Object(d.jsx)(o.b,{to:"/lamparas",className:"dropdown-item",children:"lamparas"})]})]})]}),Object(d.jsxs)("div",{className:"widgets d-flex align-items-center",children:[Object(d.jsx)("div",{children:Object(d.jsx)("input",{type:"text",placeholder:"buscar"})}),Object(d.jsx)("div",{children:Object(d.jsx)(_,{})})]})]})]})};c(50);var T=function(e){var t=e.copyright;return Object(d.jsxs)("div",{className:"footer",children:[Object(d.jsx)("p",{children:"\xa9"}),Object(d.jsx)("div",{className:"footer_logo",children:"buncits."}),Object(d.jsx)("span",{children:" - "}),Object(d.jsx)("p",{children:t})]})},E=(c(51),function(){return Object(d.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:Object(d.jsx)("p",{children:"404 - Not Found"})})}),M=(c(52),function(){var e=Object(a.useContext)(x),t=e.cart,c=e.cartAmount,n=e.clearCart,s=e.remProduct,r=e.cartTotal,i=Object(b.f)();return Object(d.jsxs)("div",{className:"d-flex flex-column justify-content-around align-items-center cart m-5 py-5",children:[Object(d.jsx)("h1",{className:"pb-4",children:"Carrito"}),t.length?t.map((function(e){return Object(d.jsxs)("div",{className:"d-flex align-items-center cartItem flex-wrap justify-content-center my-3 mx-4 col-11",children:[Object(d.jsx)("img",{src:e.thumbnailUrl,alt:"",className:"col-md-3 col-12 pb-3"}),Object(d.jsxs)("div",{className:"row flex-column col-md-8 col-12 py-3",children:[Object(d.jsxs)("div",{className:"prodTitle d-flex justify-content-between",children:[Object(d.jsx)("span",{children:e.title}),Object(d.jsx)("div",{className:"btnContainer",children:Object(d.jsx)("button",{className:"mx-2",onClick:s,value:e.id,children:"X"})})]}),Object(d.jsx)("p",{children:e.description}),Object(d.jsxs)("p",{children:["Cantidad: ",e.amount," - Precio: $ ",e.price]}),Object(d.jsxs)("p",{className:"prodTotal pb-4",children:["Total: $ ",e.amount*e.price]})]})]},e.id)})):Object(d.jsxs)("div",{className:"emptyCart text-center d-flex flex-column justify-content-center align-items-center",children:[Object(d.jsx)("p",{children:"Tu carrito est\xe1 vac\xedo."}),Object(d.jsx)("span",{className:"loadingMsg_Logo",children:"buncits."}),Object(d.jsx)("button",{className:"mt-5",onClick:function(){i.push("/")},children:"volver"})]}),t.length?Object(d.jsxs)("div",{className:"col-11 px-0",children:[Object(d.jsxs)("div",{className:"cartItem cartTotal mt-3 text-center py-3 d-flex justify-content-center",children:[Object(d.jsxs)("p",{children:["Productos en el carrtito: ",Object(d.jsx)("strong",{children:c})]}),Object(d.jsxs)("p",{children:["Total:",Object(d.jsxs)("strong",{children:[" $ ",r]})]})]}),Object(d.jsxs)("div",{className:"d-flex cartButtons pt-2 justify-content-center",children:[Object(d.jsx)("button",{onClick:n,className:"mx-2 emptyBtn",children:"Vaciar Carrito"}),Object(d.jsx)("button",{onClick:function(){alert("Gracias por tu Compra!"),i.push("/")},className:"mx-2 finishBtn",children:"Finalizar Compra"})]})]}):""]})});var D=function(){return Object(d.jsx)(O,{children:Object(d.jsx)(o.a,{children:Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(I,{}),Object(d.jsxs)(b.c,{children:[Object(d.jsx)(b.a,{path:"/",exact:!0,component:v}),Object(d.jsx)(b.a,{path:"/nosotros",component:N}),Object(d.jsx)(b.a,{path:"/contacto",component:g}),Object(d.jsx)(b.a,{path:"/cart",component:M}),Object(d.jsx)(b.a,{path:"/:category/:id",component:w}),Object(d.jsx)(b.a,{path:"/:category",component:k}),Object(d.jsx)(b.a,{path:"*",component:E})]}),Object(d.jsx)(T,{copyright:"Todos los derechos reservados."})]})})})};r.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(D,{})}),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.36ffaade.chunk.js.map